{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useEyeDrop = void 0;\nconst React = require(\"react\");\nconst parseRgb_1 = require(\"./colorUtils/parseRgb\");\nconst rgbToHex_1 = require(\"./colorUtils/rgbToHex\");\nconst targetToCanvas_1 = require(\"./targetToCanvas\");\nconst getColor_1 = require(\"./getColor\");\nconst react_1 = require(\"react\");\nconst {\n  useEffect,\n  useState\n} = React;\nconst initialStateColors = {\n  rgb: '',\n  hex: ''\n};\nconst useEyeDrop = ({\n  once,\n  pickRadius,\n  cursorActive = 'copy',\n  cursorInactive = 'auto',\n  customProps,\n  onPickStart,\n  onPickEnd,\n  onPickCancel,\n  onChange\n} = {}) => {\n  const [colors, setColors] = useState(initialStateColors);\n  const [pickingColorFromDocument, setPickingColorFromDocument] = useState(false);\n  const pickColor = () => {\n    if (onPickStart) {\n      onPickStart();\n    }\n    setPickingColorFromDocument(true);\n  };\n  const cancelPickColor = () => {\n    if (onPickCancel) {\n      onPickCancel();\n    }\n    setPickingColorFromDocument(false);\n  };\n  const exitPickByEscKey = (0, react_1.useCallback)(event => {\n    event.code === 'Escape' && pickingColorFromDocument && cancelPickColor();\n  }, [pickingColorFromDocument, cancelPickColor]);\n  const updateColors = rgbObj => {\n    const rgb = (0, parseRgb_1.parseRGB)(rgbObj);\n    const hex = (0, rgbToHex_1.rgbToHex)(rgbObj);\n    setColors({\n      rgb,\n      hex\n    });\n  };\n  const extractColor = (0, react_1.useCallback)(e => __awaiter(void 0, void 0, void 0, function* () {\n    const {\n      target\n    } = e;\n    if (!target) return;\n    const targetCanvas = yield (0, targetToCanvas_1.targetToCanvas)(target);\n    const rgbColor = (0, getColor_1.getColor)(targetCanvas, e, pickRadius);\n    if (onChange) {\n      const rgb = (0, parseRgb_1.parseRGB)(rgbColor);\n      const hex = (0, rgbToHex_1.rgbToHex)(rgbColor);\n      // set color object to parent handler\n      onChange({\n        rgb,\n        hex,\n        customProps\n      });\n    }\n    updateColors(rgbColor);\n    once && setPickingColorFromDocument(false);\n    if (onPickEnd) {\n      onPickEnd();\n    }\n  }), [customProps, once, setPickingColorFromDocument]);\n  useEffect(() => {\n    if (pickingColorFromDocument) {\n      document.addEventListener('click', extractColor);\n    }\n    return () => {\n      document.removeEventListener('click', extractColor);\n    };\n  }, [pickingColorFromDocument, once, extractColor]);\n  // setup listener for the esc key\n  useEffect(() => {\n    if (pickingColorFromDocument) {\n      document.addEventListener('keydown', exitPickByEscKey);\n    }\n    return () => {\n      document.removeEventListener('keydown', exitPickByEscKey);\n    };\n  }, [pickingColorFromDocument, exitPickByEscKey]);\n  useEffect(() => {\n    if (document.body && cursorActive && cursorInactive) {\n      document.body.style.cursor = pickingColorFromDocument ? cursorActive : cursorInactive;\n    }\n  }, [pickingColorFromDocument, cursorActive, cursorInactive]);\n  return [colors, pickColor, cancelPickColor];\n};\nexports.useEyeDrop = useEyeDrop;","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","useEyeDrop","React","require","parseRgb_1","rgbToHex_1","targetToCanvas_1","getColor_1","react_1","useEffect","useState","initialStateColors","rgb","hex","once","pickRadius","cursorActive","cursorInactive","customProps","onPickStart","onPickEnd","onPickCancel","onChange","colors","setColors","pickingColorFromDocument","setPickingColorFromDocument","pickColor","cancelPickColor","exitPickByEscKey","useCallback","event","code","updateColors","rgbObj","parseRGB","rgbToHex","extractColor","target","targetCanvas","targetToCanvas","rgbColor","getColor","document","addEventListener","removeEventListener","body","style","cursor"],"sources":["/Users/akhilakonam/Documents/TestWhiteboard/test-whiteboard/node_modules/react-eyedrop/dist/useEyeDrop.js"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useEyeDrop = void 0;\nconst React = require(\"react\");\nconst parseRgb_1 = require(\"./colorUtils/parseRgb\");\nconst rgbToHex_1 = require(\"./colorUtils/rgbToHex\");\nconst targetToCanvas_1 = require(\"./targetToCanvas\");\nconst getColor_1 = require(\"./getColor\");\nconst react_1 = require(\"react\");\nconst { useEffect, useState } = React;\nconst initialStateColors = { rgb: '', hex: '' };\nconst useEyeDrop = ({ once, pickRadius, cursorActive = 'copy', cursorInactive = 'auto', customProps, onPickStart, onPickEnd, onPickCancel, onChange, } = {}) => {\n    const [colors, setColors] = useState(initialStateColors);\n    const [pickingColorFromDocument, setPickingColorFromDocument] = useState(false);\n    const pickColor = () => {\n        if (onPickStart) {\n            onPickStart();\n        }\n        setPickingColorFromDocument(true);\n    };\n    const cancelPickColor = () => {\n        if (onPickCancel) {\n            onPickCancel();\n        }\n        setPickingColorFromDocument(false);\n    };\n    const exitPickByEscKey = (0, react_1.useCallback)((event) => {\n        event.code === 'Escape' && pickingColorFromDocument && cancelPickColor();\n    }, [pickingColorFromDocument, cancelPickColor]);\n    const updateColors = (rgbObj) => {\n        const rgb = (0, parseRgb_1.parseRGB)(rgbObj);\n        const hex = (0, rgbToHex_1.rgbToHex)(rgbObj);\n        setColors({ rgb, hex });\n    };\n    const extractColor = (0, react_1.useCallback)((e) => __awaiter(void 0, void 0, void 0, function* () {\n        const { target } = e;\n        if (!target)\n            return;\n        const targetCanvas = yield (0, targetToCanvas_1.targetToCanvas)(target);\n        const rgbColor = (0, getColor_1.getColor)(targetCanvas, e, pickRadius);\n        if (onChange) {\n            const rgb = (0, parseRgb_1.parseRGB)(rgbColor);\n            const hex = (0, rgbToHex_1.rgbToHex)(rgbColor);\n            // set color object to parent handler\n            onChange({ rgb, hex, customProps });\n        }\n        updateColors(rgbColor);\n        once && setPickingColorFromDocument(false);\n        if (onPickEnd) {\n            onPickEnd();\n        }\n    }), [customProps, once, setPickingColorFromDocument]);\n    useEffect(() => {\n        if (pickingColorFromDocument) {\n            document.addEventListener('click', extractColor);\n        }\n        return () => {\n            document.removeEventListener('click', extractColor);\n        };\n    }, [pickingColorFromDocument, once, extractColor]);\n    // setup listener for the esc key\n    useEffect(() => {\n        if (pickingColorFromDocument) {\n            document.addEventListener('keydown', exitPickByEscKey);\n        }\n        return () => {\n            document.removeEventListener('keydown', exitPickByEscKey);\n        };\n    }, [pickingColorFromDocument, exitPickByEscKey]);\n    useEffect(() => {\n        if (document.body && (cursorActive && cursorInactive)) {\n            document.body.style.cursor = pickingColorFromDocument ? cursorActive : cursorInactive;\n        }\n    }, [pickingColorFromDocument, cursorActive, cursorInactive]);\n    return [colors, pickColor, cancelPickColor];\n};\nexports.useEyeDrop = useEyeDrop;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}